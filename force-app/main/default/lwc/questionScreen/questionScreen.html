<template>
  <template if:true={isError}>{label.error_message}</template>

  <template if:false={isError}>
    <c-question-bar 
      templates={displayedTemplates}
      template-options-value={templateOptionsValue}
      has-standard-questions={hasStandardQuestions}
      onselect={handleTemplateChange}
      onaddstandard={openStandardSelector}
      onadd={openClearForm}
    ></c-question-bar>

    <template if:true={isQuestionBlockOpened}>
      <c-questions-block
        questions={displayedQuestions}
        onedit={editQuestion}
        onaddoptional={addOptional}
        ondelete={deleteQuestions}
        ondown={downQuestion}
        onup={upQuestion}>
      </c-questions-block>
    </template>

    <template if:true={isFormOpened}>
      <c-question-form
        is-edit-mode={isEditMode}
        is-dependent-question={isDependentQuestion}
        question-for-form={questionForForm}
        validation-for-form={validationForForm}
        onadd={addQuestion}
        onadddependant={addDependantQuestion}
        onedit={updateQuestion}
        onback={cancelEditQuestion}
        onerror={setError}
      ></c-question-form>
    </template>

    <template if:true={isStandardSelectorOpen}>
      <c-question-standard-selector
      standard-questions={displayedStandardQuestions}
      onselect={selectQuestion}
      onback={openQuestionBlock}
      ></c-question-standard-selector>
    </template>
    

    <hr class="slds-m-bottom_small"/>
  
    <div class="slds-text-align_right">
      <lightning-button
        label={label.previous}
        onclick={clickPreviousButton}
      ></lightning-button>
      <lightning-button
        variant="brand"
        label={label.next}
        onclick={clickNextButton}
        class="slds-m-left_x-small"
      ></lightning-button>
    </div>
  </template>
</template>