<template>
  <template if:true={error}> Error occured this page during to work. </template>

  <template if:false={error}>
    <template if:false={isHaveQuestions}>
      Don't have questions to create visibility validation
    </template>

    <template if:true={isHaveQuestions}>
      <div class="slds-box slds-box_x-small slds-m-around_x-small">
        <div class="slds-grid slds-wrap">
          <div class="slds-size_1-of-5">
            <div class="slds-m-around_x-small">
              <lightning-combobox
                label="Question"
                value={firstPosition}
                options={questionOptions}
                onchange={selectFirstQuestion}
                class="firstCombobox"
              >
              </lightning-combobox>
            </div>
          </div>
          <div class="slds-size_1-of-5">
            <div class="slds-m-around_x-small">
              <lightning-combobox
                label="Dependent question"
                value={secondPosition}
                options={questionOptions}
                onchange={selectSecondQuestion}
                class="secondCombobox"
              >
              </lightning-combobox>
            </div>
          </div>
          <div class="slds-size_1-of-5">
            <div class="slds-m-around_x-small">
              <lightning-combobox
                label="Operator"
                value={selectedOperator}
                placeholder="Select Operator"
                options={displayedOperators}
                class="slds-m-around_x-small"
              >
              </lightning-combobox>
            </div>
          </div>
          <div class="slds-size_1-of-5">
            <div class="slds-m-around_x-small">
              <lightning-input
                type="text"
                label="Enter Ð¡ompared text"
                class="input"
                required
              ></lightning-input>
            </div>
          </div>
          <div class="slds-size_1-of-5">
            <div class="slds-m-top_x-large">
              <div class="slds-m-left_x-small">
                <lightning-button
                  variant="brand"
                  label="Add"
                  title="Primary action"
                  onclick={addValidation}
                ></lightning-button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="slds-box slds-box_x-small slds-m-around_x-small">
        <template iterator:it={displayedValidations}>
          <c-validation-card
            validation={it.value}
            index={it.index}
            key={it.value}
            ondelete={deleteValidation}
          ></c-validation-card>
        </template>
      </div>
    </template>
  </template>
</template>
