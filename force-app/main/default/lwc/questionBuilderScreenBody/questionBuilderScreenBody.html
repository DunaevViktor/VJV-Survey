<template>
  <div class="slds-grid slds-wrap">
    <div class="slds-size_1-of-3">
      <div class="slds-box slds-box_x-small slds-m-around_x-small">
        <lightning-combobox
          name="template"
          label="Selected Survey Template"
          value={templateOptionsValue}
          options={templateOptions}
          onchange={handleTemplateChange}
        >
        </lightning-combobox>
      </div>

      <template if:true={displayedStandardQuestions}>
        <div class="slds-box slds-box_x-small slds-m-around_x-small">
          <c-question-search
            standard-questions={displayedStandardQuestions}
            onselect={selectQuestion}
          ></c-question-search>
        </div>
      </template>
    </div>

    <div class="slds-size_2-of-3">
      <c-question-form
        onadd={addQuestion}
        oncancelevent={cancelEditQuestion}
        onedit={updateQuestion}
      ></c-question-form>

      <div class="slds-box slds-box_x-small slds-m-around_x-small">
        <template if:false={hasQuestions}> Don't have questions yet </template>

        <template if:true={hasQuestions}>
          <template for:each={displayedQuestions} for:item="displayedQuestion">
            <div key={displayedQuestion.Position__c}>
              <c-question-card
                question={displayedQuestion}
                ondelete={deleteQuestion}
                onedit={editQuestion}
                ondown={downQuestion}
                onup={upQuestion}
              >
                ></c-question-card
              >
            </div>
          </template>
        </template>
      </div>
    </div>
  </div>
</template>
